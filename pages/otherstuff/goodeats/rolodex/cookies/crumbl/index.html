<!doctype html>
<html lang=en>
   <head>
      <meta charset=utf-8>
      <meta http-equiv=X-UA-Compatible content="IE=edge">
      <title>Crumb Cookie Recipe</title>
      <meta name=description content="Going off-the-grid with an add-on for the Star Labs StarBook &ndash; and pretty
         much every other laptop &ndash; that adds situational awareness through various
         sensors and removes the need for privacy-invasive cloud services for things
         like GPS positioning and current temperature.">
      <meta name=HandheldFriendly content="True">
      <meta name=viewport content="width=device-width,initial-scale=1">
      <link rel=stylesheet type=text/css href="../../../../../css/style.css">
      <link rel=apple-touch-icon sizes=180x180 href="../favicons/apple-touch-icon.192d292654499629780a565d9ac0e1f3cc89b7c13644321db58de26c2ca8505c.png">
      <link rel=icon type=image/png sizes=32x32 href="../favicons/favicon-32x32.782b137e2290e4ea0ad199aa0cea30a965f4291623c913b0e388b54933b19918.png">
      <link rel=icon type=image/png sizes=194x194 href="../favicons/favicon-194x194.0a85968602dad6f53da4dc15c274b349d011f224000a28255a247aa42ed67aed.png">
      <link rel=icon type=image/png sizes=192x192 href="../favicons/android-chrome-192x192.a4363a3ab486a4080fd3ba5537ae3e881ffa96d6fc1004f65bf43c09d14c08dd.png">
      <link rel=icon type=image/png sizes=16x16 href="../favicons/favicon-16x16.a71c0aa22511f25e22a428862ec528ba3378be3c87f6af4240e16b620c7ed8b3.png">
      <link rel=manifest href="../favicons/site.333ec4919c698f4a19df1e0c048415628a625be1972ddac299a19eafdbcc8737.webmanifest">
      <link rel=mask-icon color=#141414 href="../favicons/safari-pinned-tab.10e8b1310bf286207392e6e570374ed43a277132edb02d94b91f7f477c7f5273.svg">
      <link rel="shortcut icon" href="../favicons/favicon.292307c322c04a224b325fd2064cf86ddbe28ba500b1dee1f9398f0ef7574f19.ico">
      <meta name=apple-mobile-web-app-title content="マリウス">
      <meta name=application-name content="マリウス">
      <meta name=msapplication-TileColor content="#ffffff">
      <meta name=msapplication-TileImage content="/favicons/mstile-144x144.e1dd7d8040e71e80f2734631bc88f0b13b9b5704a4e6ae9e63354da191592ef8.png">
      <meta name=msapplication-config content="/favicons/browserconfig.d771871729bc2f473aa63fb515a7fd103d37e6f285ef99746bd07256a3d08f5f.xml">
      <meta name=theme-color content="#ffffff">
      <meta property="og:site_name" content="マリウス">
      <meta property="og:title" content="Starshield: Situational Awareness for the Star Labs StarBook">
      <meta name=twitter:title content="Starshield: Situational Awareness for the Star Labs StarBook">
      <meta property="og:description" content="Going off-the-grid with an add-on for the Star Labs StarBook &ndash; and pretty
         much every other laptop &ndash; that adds situational awareness through various
         sensors and removes the need for privacy-invasive cloud services for things
         like GPS positioning and current temperature.">
      <meta name=twitter:description content="Going off-the-grid with an add-on for the Star Labs StarBook &ndash; and pretty
         much every other laptop &ndash; that adds situational awareness through various
         sensors and removes the need for privacy-invasive cloud services for things
         like GPS positioning and current temperature.">
      <meta property="og:url" content="https://xn--gckvb8fzb.com/starshield-situational-awareness-for-the-star-labs-starbook/">
      <meta name=twitter:url content="https://xn--gckvb8fzb.com/starshield-situational-awareness-for-the-star-labs-starbook/">
      <meta property="og:image" content="https://xn--gckvb8fzb.com/starshield-situational-awareness-for-the-star-labs-starbook/images/cover.jpg">
      <meta name=twitter:image content="https://xn--gckvb8fzb.com/starshield-situational-awareness-for-the-star-labs-starbook/images/cover.jpg">
      <meta name=twitter:card content="summary_large_image">
      <meta property="og:type" content="article">
      <meta property="article:published_time" content="2024-11-26T19:40:21+09:00">
      <meta property="article:modified_time" content="2024-11-26T19:40:36+09:00">
      <script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","publisher":{"@type":"Person","givenName":"マリウス"},"url":"https://xn--gckvb8fzb.com/","mainEntityOfPage":{"@type":"WebPage","@id":"https://xn--gckvb8fzb.com/"},"description":"Going off-the-grid with an add-on for the Star Labs StarBook \u0026ndash; and pretty\nmuch every other laptop \u0026ndash; that adds situational awareness through various\nsensors and removes the need for privacy-invasive cloud services for things\nlike GPS positioning and current temperature."}</script>
      <link rel=alternate type=application/rss+xml href="../index.xml" title=マリウス>
      <link rel=canonical href="index.html">
      <meta name=generator content="riscv-none-embed-gcc (GCC) 9.2.0">
      <meta name=yandex-verification content="fbcb283fe512e9c5">
      <script async defer data-domain=xn--gckvb8fzb.com src=https://plausible.io/js/plausible.js></script>
      <script src="https://cdn.tailwindcss.com"></script>
      <script>
        tailwind.config = {
          theme: {
            extend: {
              colors: {
                clifford: '#da373d',
                steelers: '#ffb81c',
                fuscialite: '#d6c3c9',
                smoke: '#939b9a',
                gloomy: '#2f3030',
              }
            }
          }
        }
      </script>
   </head>
   <body>
      <script>0</script>
      <div class=site-wrapper>
         <header class=site-head>
            <div class=site-head-container>
               <div class="site-head-center text-4xl">
                  <a class=site-head-logo href="../index.html" title=js work>
                     <div class="my-8 text-amber-300">j >></div>
                  </a>
                  <span class="site-head-title font-black breadcrumb">hello, world</span>
               </div>
               <div class=site-head-scrolldown><span class="scrolldown-text text-clifford mx-5">[PROCEED WITH CAUTION]<span></div>
               <div id=navigation class=site-head-menu>
                  <nav class=site-head-menu-column-half>
                     <h2 class=site-head-menu-title>Past Work</h2>
                     <ul class=site-head-menu-list>
                        <br>
                        <li>Software UI/UX Design</li>
                        <li><a href="projects/index.html" target=_self>CyberGrad Training Software</a></li>
                        <li><a href="projects/index.html" target=_self>Operation Management Software</a></li>
                        <li><a href="projects/index.html" target=_self>Red Team Logging Tool</a></li>
                        <li><a href="command-line/index.html" target=_self>Online Collectibles Store</a></li>
                        <li><a href="infrastructure.html" target=_self>Senitron Inventory Tracking</a></li>
                        <li><a href="phone/index.html" target=_self>Counterfeit Detection System</a></li>
                        <br>
                        <li>Design</li>
                        <li><a href="camera.html" target=_self>Architecture</a></li>
                        <li><a href="edc/index.html" target=_self>Graphic Design</a></li>
                        <li><a href="bookmarks/index.html" target=_self>Industrial Design</a></li>
                     </ul>
                  </nav>
                  <div class=site-head-menu-columns>
                     <div class=site-head-menu-column>
                        <h2 class=site-head-menu-title>Gadgets</h2>
                        <ul class=site-head-menu-list>
                           <li><a href="my-year-in-coffee-2024/index.html" target=_self>Computers</a></li>
                           <li><a href="9barista-espresso-machine-one-year-later/index.html" target=_self>Keyboards & Mice</a></li>
                           <li><a href="throwback-thursday-kde-2-on-suse-linux-7-3/index.html" target=_self>CLI Tools</a></li>
                           <li><a href="google-pixel-9-released-the-best-time-to-upgrade-to-the-pixel-8-and-grapheneos/index.html" target=_self>Open Source</a></li>
                           <li><a href="minimalist-and-functional-desktop-environment-without-xorg/index.html" target=_self>Misc.</a></li>
                        </ul>
                     </div>
                     <div class=site-head-menu-column>
                        <h2 class=site-head-menu-title>Travel</h2>
                        <ul class=site-head-menu-list>
                           <li><a href="travel/japan/osaka-2024/index.html" target=_self>Upcoming: Tokyo, Japan</a></li>
                           <li><a href="travel/japan/sapporo/index.html" target=_self>Santa Catalina Island, CA</a></li>
                           <li><a href="travel/japan/tokyo-2024/index.html" target=_self>Bearizona, AZ</a></li>
                           <li><a href="travel/japan/yokohama/index.html" target=_self>Upstate NY & NYC</a></li>
                           <li><a href="travel/spain/barcelona/index.html" target=_self>Las Vegas, NV</a></li>
                        </ul>
                     </div>
                     <div class=site-head-menu-column>
                        <h2 class=site-head-menu-title>DIY</h2>
                        <ul class=site-head-menu-list>
                           <li><a href="hard-money-node/index.html" target=_self>Hard money node</a></li>
                           <li><a href="starshield-situational-awareness-for-the-star-labs-starbook/index.html" target=_self>Starshield: Situational Awareness for the Star Labs StarBook</a></li>
                           <li><a href="hibi-mia-botanical/index.html" target=_self>HIBI MIA Botanical</a></li>
                           <li><a href="ultra-portable-data-center-part-two/index.html" target=_self>Ultra-Portable Data Center: Part Two</a></li>
                           <li><a href="kunai-corne-v3/index.html" target=_self>Kunai Corne V3</a></li>
                        </ul>
                     </div>
                     <div class=site-head-menu-column>
                        <h2 class="site-head-menu-title cursor-default"><!--<a href="collection/updates.html" target=_self></a>-->Other Stuff</h2>
                        <ul class=site-head-menu-list>
                          <li><a href="updates-2024-q4/index.html" target=_self>Links</a></li>
                          <li><a href="updates-2024-q3/index.html" target=_self>Quotes</a></li>
                          <li class="active"><a href="recipes/index.html" target=_self>Recipes</a></li>
                          <li><a href="updates-2024-q1/index.html" target=_self>Jokes</a></li>
                          <li><a href="updates-2024-q1/index.html" target=_self>Videos</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </header>
         <main id=site-main class=site-main>
            <article class="post-content post page">
               <script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleBody":"Going off-the-grid with an add-on for the Star Labs StarBook -- and pretty\nmuch every other laptop -- that adds situational awareness through various\nsensors and removes the need for privacy-invasive cloud services for things\nlike GPS positioning and current temperature.\n","author":{"@type":"Person","givenName":"Marius","additionalName":"マリウス","email":"marius@マリウス.com"},"dateModified":"2024-11-26 19:40:36 \u002b0900 \u002b0900","datePublished":"2024-11-26 19:40:21 \u002b0900 \u002b0900","description":"Going off-the-grid with an add-on for the Star Labs StarBook -- and pretty\nmuch every other laptop -- that adds situational awareness through various\nsensors and removes the need for privacy-invasive cloud services for things\nlike GPS positioning and current temperature.\n","headline":"Starshield: Situational Awareness for the Star Labs StarBook","mainEntityOfPage":{"@id":"\/starshield-situational-awareness-for-the-star-labs-starbook\/","@type":"WebPage"}}</script>
               <div id=qrcode class=qrcode></div>
               <header class=post-content-header>
                  <h1 class="post-content-title text-7xl text-steelers">Crumbl Cookies</h1>
               </header>
               <p class="post-content-author">recipe by <span class="text-smoke">[redacted]</span></p>
               <p class="post-content-excerpt">Going off-the-grid with an add-on for the Star Labs StarBook &ndash; and pretty
                  much every other laptop &ndash; that adds situational awareness through various
                  sensors and removes the need for privacy-invasive cloud services for things
                  like GPS positioning and current temperature.
               </p>
               <div class=post-content-body>
                  <figure class="kg-card kg-image-card kg-card-hascaption"><a href="images/recipe-cookie-crumbl.jpg" target=_blank><img class=kg-image src="images/recipe-cookie-crumbl.jpg"></a></figure>
                  <br>
                  <h1 class="text-5xl">Sugar Cookie</h1>
                  <table class="py-12">
                     <thead>
                        <tr class="text-4xl tar">
                           <th>Ingredient</th>
                           <th style=text-align:right>Amount</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr>
                           <td>salted butter</td>
                           <td style=text-align:right>1 cup</td>
                        </tr>
                        <tr>
                           <td>granulated sugar</td>
                           <td style=text-align:right>1 cup</td>
                        </tr>
                        <tr>
                           <td>eggs</td>
                           <td style=text-align:right>2</td>
                        </tr>
                        <tr>
                           <td>vanilla extract</td>
                           <td style=text-align:right>1 tsp</td>
                        </tr>
                        <tr>
                           <td>almond extract</td>
                           <td style=text-align:right>1/2 tsp</td>
                        </tr>
                        <tr>
                           <td>all purpose flour</td>
                           <td style=text-align:right>3 cups</td>
                        </tr>
                        <tr>
                           <td>baking powder</td>
                           <td style=text-align:right>2 tsp</td>
                        </tr>
                     </tbody>
                  </table>
                  <br>
                  <h1 class="text-5xl">Sweet Almond Icing</h1>
                  <table class="py-12">
                     <thead>
                        <tr class="text-4xl tar">
                           <th>Ingredient</th>
                           <th style=text-align:right>Amount</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr>
                           <td>salted butter (softened)</td>
                           <td style=text-align:right>1/2 cup</td>
                        </tr>
                        <tr>
                           <td>powdered sugar</td>
                           <td style=text-align:right>3 cup</td>
                        </tr>
                        <tr>
                           <td>almond extract</td>
                           <td style=text-align:right>1 tsp</td>
                        </tr>
                        <tr>
                           <td>milk</td>https://www.youtube.com/watch?v=2H1JJJihsQ0
                           <td style=text-align:right>1-3 Tbs</td>
                        </tr>
                        <tr>
                           <td>neon pink food coloring (optional)</td>
                           <td style=text-align:right>4 drops</td>
                        </tr>
                     </tbody>
                  </table>
                  <h2 id=starshieldd><code>starshieldd</code></h2>
                  <p>The <code>starshieldd</code> is the Starshield daemon, which communicates with the Arduino
                     board and serves the data in more usable JSON formats through different HTTP
                     APIs. Its main API simply outputs all the values as JSON object and is used by
                     the Waybar script. It&rsquo;s secondary API implements the <em>geo provider</em> API used by
                     Firefox and replies with GPS data.
                  </p>
                  <h3 id=waybar>Waybar</h3>
                  <figure class="kg-card kg-image-card kg-card-hascaption"><a href="images/starshield-waybar01.png" target=_blank><img class=kg-image src="images/starshield-waybar01.png"></a></figure>
                  <p>I wrote a small script that I run as a <em>custom</em> Waybar module, which queries the
                     <code>starshieldd</code> and displays the current environmental readings on my menubar. The
                     script will work regardless of whether the Starshield is connected or whether
                     the <code>starshieldd</code> is running, as it will simply output zero values if either of
                     that should be the case.
                  </p>
                  <h3 id=gps>GPS</h3>
                  <figure class="kg-card kg-image-card kg-card-hascaption"><a href="images/starshield-DSC00272.jpg" target=_blank><img class=kg-image src="images/starshield-DSC00272.jpg"></a></figure>
                  <p>It is possible to make use of the GPS data provided by the Starshield through
                     the use of <code>starshieldd</code> as <em>geo provider</em>. In Firefox/Firefox-based browsers,
                     visit <code>about:config</code> and search for <code>geo.provider.network.url</code>. Change the value
                     of the setting to <code>http://127.0.0.1:3232/location</code>. Make sure that <code>geo.enabled</code>
                     is set to <code>true</code>. All the other settings don&rsquo;t matter to much, because the
                     Starshield daemon won&rsquo;t care about the clues that Firefox sends, as it solely
                     returns GPS data from the integrated GPS module.
                  </p>
                  <figure class="kg-card kg-image-card kg-card-hascaption">
                     <a href="images/starshield-openstreetmap.png" target=_blank>
                        <img class=kg-image src="images/starshield-openstreetmap.png">
                        <figcaption>Auto location on OpenStreetMap in Firefox</figcaption>
                     </a>
                  </figure>
                  <p>It is also possible to use <a href=https://git.sr.ht/~mil/mepo>Mepo</a>, by modifying its
                     <a href=https://git.sr.ht/~mil/mepo/tree/master/item/scripts/mepo_ui_menu_user_pin_updater.sh>user pin script</a> so that it makes use of the same <em>geo
                     provider</em> API that is available to Firefox. Hopefully at some point
                     <a href=https://github.com/organicmaps/organicmaps/issues/2217>Organic Maps will become available through Gentoo portage</a>, at which
                     point it makes sense to look into how its requesting GPS data and how
                     <code>starshieldd</code> can be integrated to provide that data.
                  </p>
                  <h4 id=why-not-use-gpsd>Why not use <code>gpsd</code>?</h4>
                  <p>Because <a href=https://gpsd.gitlab.io/gpsd/>gpsd</a> has proven to be super unreliable during my initial tests when
                     directly feeding it the NMEA data from this specific GPS module, as well as two
                     other u-blox modules, with crashes occurring on a regular basis. Besides it
                     would have greatly increased the complexity of implementing the Starshield, as
                     well as the <code>starshieldd</code>, as it&rsquo;s not easily possible to stream and receive
                     data alongside of NMEA over a single USB connection.
                  </p>
                  <h2 id=sources>Sources</h2>
                  <p>You can find the STLs for the case, as well as the source code for Arduino and
                     the Waybar script <a href=https://github.com/mrusme/starshield>here</a>. The sources for the daemon (written in
                     Go) can be found <a href=https://github.com/mrusme/starshieldd>here</a>. An example of how I run the daemon can
                     be found in <a href=https://github.com/mrusme/dotfiles/blob/82f918d27f2b963cc98483c8dc3675396761931b/.config/sway/config#L604>my dotfiles</a>.
                  </p>
                  <figure class="kg-card kg-image-card kg-card-hascaption"><a href="images/starshield-DSC00460.jpg" target=_blank><img class=kg-image src="images/starshield-DSC00460.jpg"></a></figure>
               </div>
               <br>
               <p class=supportme>Enjoyed this? Support me via
                  <a href=monero:47xsk5muV3VURKJLRqq39sHDS1XPbkY5cddvBeFBnSheRLk9ZPUxSsQJDU4hdbEnsBYSczoaKimwbWLdE9435AsSSqUGo2y>Monero</a>,
                  <a href=bitcoin:bc1qedycy4xwcdlql0ku9c55z0fq4uuxvw470nxspp>Bitcoin</a>,
                  <a href=lightning:mrus@getalby.com>Lightning</a>,
                  or
                  <a href=ethereum:0xcf29d9a44b151081c94f9c49152f4b90d5df6b4a>Ethereum</a>!
                  &nbsp;<a href=https://github.com/mrusme#support>More info.</a>
               </p>
               <div class=post-meta>Published on
                  <span class=post-meta-range-item>2024-11-26</span>
                  and
                  updated on
                  <span class=post-meta-range-item>2024-11-26</span>
                  in
                  <a class=post-meta-range-item href="../collection/make.html" target=_self title=make>make</a>
                  and tagged with
                  <a class=post-meta-range-item href="../tag/3d-print.html" target=_self title=3d-print>3d-print</a>
                  <a class=post-meta-range-item href="../tag/hardware.html" target=_self title=hardware>hardware</a>
                  <a class=post-meta-range-item href="../tag/infrastructure.html" target=_self title=infrastructure>infrastructure</a>
                  <a class=post-meta-range-item href="../tag/linux.html" target=_self title=linux>linux</a>
                  <a class=post-meta-range-item href="../tag/open-source.html" target=_self title=open-source>open-source</a>
                  <a class=post-meta-range-item href="../tag/privacy.html" target=_self title=privacy>privacy</a>
               </div>
            </article>
         </main>
         <footer class=site-foot>
            <a href="../index.html">&copy; 2015-2025 マリウス</a> &#183;
            <a href=https://keys.openpgp.org/vks/v1/by-fingerprint/4D3899AF73E7F5FE9B39C822272ED814BF63261F>4D38 99AF 73E7 F5FE 9B39 C822 272E D814 BF63 261F</a> &#183;
            <a href="../contact/index.html">Contact</a> &#183;
            <a href="../license/index.html" target=_self>BY-NC-SA 4.0</a><br><a href=http://z5yuzvitz4lynnaijdwmu6gkh2lnkjqmasv2jknf3biz6tkyxd4uszyd.onion target=_self>z5yuzvitz4lynnaijdwmu6gkh2lnkjqmasv2jknf3biz6tkyxd4uszyd.onion</a><br><a href=http://ltrrxt4aywqa2jzviwkacsoc22zfhfe7ljm2iknxjjsil6i4i7nq.b32.i2p target=_self>ltrrxt4aywqa2jzviwkacsoc22zfhfe7ljm2iknxjjsil6i4i7nq.b32.i2p</a><br><a href=https://github.com/mrusme#support target=_blank>Support this site</a><br>Birds aren't real.<br><br>
            <div class=badges><a href=https://www.openbsd.org target=_blank><img class=openbsd src="../openbsd.012801fd1045572cf0176dd235e20cfa543dd5ceaacd285f983e33a4594257e4.gif"></a>
               <a href=https://neovim.io target=_blank><img class=vim src="../vim.ef2a75d55e41b0278a37b4de2f33aafd87c7a980f49cc0624f75309e37222cc1.gif"></a>
               <a href=https://www.mozilla.org/en-US/firefox/ target=_blank><img class=netscape src="../netscape.cf277bb005f54d4b4b1a8ea434fa8b6a0f51904113b4e7b9818e6dbf73c4e0ac.gif"></a>
               <a href=https://www.torproject.org target=_blank><img class=aol src="../aol.d4c7ba1eaa3c0a357c0c40636c9c8967a577d8eebf6d17bf12814cd966749576.gif"></a>
            </div>
         </footer>
      </div>
   </body>
</html>